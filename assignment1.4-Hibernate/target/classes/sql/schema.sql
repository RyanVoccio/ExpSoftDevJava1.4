CREATE TABLE CATEGORY (
    ID INT NOT NULL AUTO_INCREMENT
  , NAME VARCHAR(100) NOT NULL
  , UNIQUE UQ_CAT_NAME_1 (NAME)
  , PRIMARY KEY (ID)
);

CREATE TABLE BOOK (
    ID INT NOT NULL AUTO_INCREMENT
  , CATEGORY_ID INT NOT NULL
  , ISBN VARCHAR(100) NOT NULL
  , TITLE VARCHAR(100) NOT NULL
  , PRICE DECIMAL(4,2) NOT NULL
  , UNIQUE UQ_ISBN_TITLE_1 (ISBN, TITLE)
  , PRIMARY KEY (ID)
  , CONSTRAINT FK_BOOK_CATEGORY FOREIGN KEY (CATEGORY_ID)
REFERENCES CATEGORY (ID)
);


CREATE TABLE AUTHOR (
    ID INT NOT NULL AUTO_INCREMENT
  , FIRST_NAME VARCHAR(60) NOT NULL
  , LAST_NAME VARCHAR(60) NOT NULL
  , DESCRIPTION VARCHAR(1200) NOT NULL
  , UNIQUE UQ_AUTHOR_1 (FIRST_NAME, LAST_NAME)
  , PRIMARY KEY (ID)
);

CREATE TABLE AUTHOR_BOOK (
    AUTHOR_ID INT NOT NULL
     , BOOK_ID INT NOT NULL
     , PRIMARY KEY (AUTHOR_ID, BOOK_ID),
     KEY AUTHOR_ID (AUTHOR_ID)
     , CONSTRAINT FK_AUTHOR_BOOK_1 FOREIGN KEY (AUTHOR_ID)
         REFERENCES AUTHOR (ID)
     , CONSTRAINT FK_AUTHOR_BOOK_2 FOREIGN KEY (BOOK_ID)
     REFERENCES BOOK (ID)
);
